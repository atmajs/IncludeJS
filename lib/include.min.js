function __eval(e,t){"use strict";t&&t.route.params;return eval.call(window,e)}!function(e,t){"use strict";var n,r;return"undefined"==typeof exports||e!==exports&&null!=e||(n=r=global),null==n&&(n="undefined"==typeof window?global:window),null==r&&(r=e||n),"undefined"!=typeof include&&"function"==typeof include.js?(r.include=include,void(r.includeLib=include.Lib||n.includeLib)):void t(n,r,n.document)}(this,function(global,exports,document){"use strict";function fn_proxy(e,t){return function(){e.apply(t,arguments)}}function fn_doNothing(e){"function"==typeof e&&e()}function arr_invoke(e,t,n){if(null!=e&&e instanceof Array!=!1)for(var r=0,o=e.length;r<o;r++)"function"==typeof e[r]&&(null==t?e[r].call(n):e[r].apply(n,t))}function arr_ensure(e,t){if(!t)return e;for(var n,r=t.split("."),o=r.length-1,i=0;i<o;i++)n=r[i],e=e[n]||(e[n]={});return n=r[o],e[n]||(e[n]=[])}var isWeb=!("undefined"==typeof location||!location.protocol||!/^https?:/.test(location.protocol)),reg_subFolder=/([^\/]+\/)?\.\.\//,reg_hasProtocol=/^(file|https?):/i,handler={},hasOwnProp={}.hasOwnProperty,emptyResponse={load:{}},__array_slice=Array.prototype.slice,XMLHttpRequest=global.XMLHttpRequest,isBrowser=!0,isNode=!1,isBrowser=!1,isNode=!0,Helper={reportError:function(e){console.error("IncludeJS Error:",e,e.message,e.url),"function"==typeof handler.onerror&&handler.onerror(e)}},XHR=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&t&&t(e,n.responseText)};var r="object"==typeof e?e.url:e,o=cfg.sync!==!0;isBrowser&&cfg.version&&(r=(r.indexOf("?")===-1?"?":"&")+"v="+cfg.version),"/"===r[0]&&cfg.lockedToFolder===!0&&(r=r.substring(1)),n.open("GET",r,o),n.send()},XHR_LOAD=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)return 200!==n.status?void t(n.status):void t(null,n.responseText)},n.open("GET",e,cfg.sync!==!0),n.send()},obj_inherit,obj_getProperty,obj_setProperty;!function(){obj_inherit=function(e){"function"==typeof e&&(e=e.prototype);for(var t,n,r=1,o=arguments.length;r<o;r++){t="function"==typeof arguments[r]?arguments[r].prototype:arguments[r];for(n in t)e[n]=t[n]}return e},obj_getProperty=function(e,t){for(var n=t.split("."),r=n.length,o=0;o<r;o++){if(null==e)return null;e=e[n[o]]}return e},obj_setProperty=function(e,t,n){for(var r,o=t.split("."),i=o.length-1,s=-1;++s<i;)r=o[s],null==e[r]&&(e[r]={}),e=e[r];e[o[s]]=n}}();var path_getDir,path_getFile,path_getExtension,path_resolveCurrent,path_normalize,path_win32Normalize,path_resolveUrl,path_combine,path_isRelative;!function(){function e(e){for(;e.indexOf("../")!==-1;)e=e.replace(reg_subFolder,"");return e.replace(/\/\.\//g,"/")}path_getDir=function(e){return e.substring(0,e.lastIndexOf("/")+1)},path_getFile=function(e){return e=e.replace("file://","").replace(/\\/g,"/").replace(/\?[^\n]+$/,""),/^\/\w+:\/[^\/]/i.test(e)?e.substring(1):e},path_getExtension=function(e){var t=e.indexOf("?");return t===-1?e.substring(e.lastIndexOf(".")+1):e.substring(e.lastIndexOf(".",t)+1,t)},path_resolveCurrent=function(){if(null==document)return"undefined"==typeof module?"":path_win32Normalize(module.parent.filename);var e=document.getElementsByTagName("script"),t=e[e.length-1],n=t&&t.getAttribute("src")||"";if("/"===n[0])return n;var r=window.location.pathname.replace(/\/[^\/]+\.\w+$/,"");return"/"!==r[r.length-1]&&(r+="/"),r+n},path_normalize=function(e){var t=e.replace(/\\/g,"/").replace(/([^:\/])\/{2,}/g,"$1/");return/^file:\/\/[^\/]/.test(t)&&(t=t.replace("file://","file:///")),t},path_win32Normalize=function(e){return e=path_normalize(e),"file:"===e.substring(0,5)?e:"file:///"+e},path_resolveUrl=function(t,n){return reg_hasProtocol.test(t)?e(t):("./"===t.substring(0,2)&&(t=t.substring(2)),"/"===t[0]&&null!=n&&null!=n.base&&(t=path_combine(n.base,t),reg_hasProtocol.test(t))?e(t):"/"===t[0]&&cfg.path&&0!==t.indexOf(cfg.path)&&(t=path_combine(cfg.path,t),reg_hasProtocol.test(t))?e(t):("/"!==t[0]&&null!=n&&null!=n.location&&(t=path_combine(n.location,t)),"/"!==t[0]&&reg_hasProtocol.test(t)===!1&&(t="/"+t),e(t)))},path_isRelative=function(e){var t=e.charCodeAt(0);switch(t){case 47:return!1;case 102:case 104:return reg_hasProtocol.test(e)===!1}return!0},path_combine=function(){for(var e,t="",n=arguments.length,r=-1;++r<n;)e=arguments[r],e&&(e=path_normalize(e),""!==t?("/"!==t[t.length-1]&&(t+="/"),"/"===e[0]&&(e=e.substring(1)),t+=e):t=e);return t}}();var tree_resolveUsage;!function(){function e(t,n,r){if(null==n){console.warn("<include> Usage Not Found:",t),console.warn("- Ensure to have it included before with the correct alias"),console.warn("- Initiator Stacktrace:");for(var o=[],i=r;null!=i;)o.push(i.url),i=i.parent;return console.warn(o.join("\n")),null}for(var s,a,u=n.includes,l=-1,c=u.length;++l<c;)if(s=u[l],a=s.route.alias||Routes.parseAlias(s.route),a===t)return s.resource;return e(t,n.parent,r)}tree_resolveUsage=function(t,n,r){for(var o,i,s,a,u,l=[],c=n.length,f=-1;++f<c;){if(s=i=n[f],a=i.indexOf("."),a!==-1&&(s=i.substring(0,a),i=i.substring(a+1)),u=e(s,t.parent,t),null==u)return null;if(4!==u.state)return t.state=3,u.on(4,r,u,"push"),null;o=u.exports,s!==i&&(o=obj_getProperty(o,i)),"object"==typeof o&&null==o&&console.warn("<include:use> Used resource has no exports",s,t.url),l[f]=o}return l}}();var res_groupByType;!function(){function e(e){var t=r.exec(e);return null==t?"js":t[1]}function t(e){return o[e]||"load"}function n(e,t,n){var r=e[t];null==r&&(r=e[t]=[]),r.push(n)}res_groupByType=function(r){for(var o={},i=r.length,s=-1;++s<i;){var a=r[s],u=e(a),l=t(u);n(o,l,a)}return o};var r=/\.([\w]+)($|\?|:)/,o={js:"js",es6:"js",css:"css",less:"css",sass:"css",json:"ajax",mask:"mask"}}();var cfg,Config;!function(){function e(e,n,r){switch(n){case"loader":for(var o in r)CustomLoader.register(o,r[o]);return;case"modules":return void(r===!0&&t());case"commonjs":return void(r===!0&&CommonJS.enable());case"amd":return void(r===!0&&Amd.enable());case"map":return void PathResolver.configMap(r);case"extentionDefault":return void PathResolver.configExt({def:r});case"extentionTypes":return void PathResolver.configExt({types:r})}n in e==!1&&console.warn("Not supported config",n),e[n]=r}function t(){return"undefined"==typeof Object.defineProperty?void console.warn("Browser do not support Object.defineProperty"):(Object.defineProperty(global,"module",{get:function(){return global.include}}),void Object.defineProperty(global,"exports",{get:function(){var e=global.include;return e.exports||(e.exports={})},set:function(e){global.include.exports=e}}))}Config=function(){},Config.prototype={path:null,loader:null,version:null,lockedToFolder:!1,sync:!1,eval:null==document,es6Exports:!1,call:function(t,n,r){if(null==n)return this;var o=typeof n;if("string"===o&&null==r)return this[n];if("string"===o&&null!=r)return e(this,n,r),t;if("object"===o&&null==r)for(var i in n)e(this,i,n[i]);return t}},cfg=new Config}();var bin,Bin;!function(){Bin={add:function(e,t,n){bin[e][t]=n,bin.all[t]=n},get:function(e,t){if(null!=t){var n=bin[e][t];if(null==n&&/^https?:\//.test(t)&&"undefined"!=typeof location&&(t=t.replace(location.origin,""),n=bin[e][t]||bin.all[t]),null==n){var r=cfg.path;null==r&&cfg.lockedToFolder&&(r=path_getDir(location.pathname)),t=path_combine("/",t.replace(r,"")),n=bin[e][t]||bin.all[t]}return n||bin.all[t]}}},bin={js:{},css:{},load:{},ajax:{},embed:{},mask:{},all:{}}}();var Routes,RoutesLib;!function(){function e(){var e={},t=/([^\\\/]+)\.\w+$/;return{register:function(t,n,r){if("string"==typeof n&&path_isRelative(n)){var o=r||include,i=o.location||path_getDir(o.url||path_resolveCurrent());path_isRelative(i)&&(i="/"+i),n=i+n}e[t]=n instanceof Array?n:n.split(/[\{\}]/g)},resolve:function(t,n){var r,o,i,s,a,u,l,c,f=n.indexOf("?"),d=n.indexOf("::");if(d!==-1&&(r=n.substring(d+2),n=n.substring(0,d)),f!==-1){for(c=n.substring(f+1).split("&"),i={},a=0,l=c.length;a<l;a++)u=c[a].split("="),i[u[0]]=u[1];n=n.substring(0,f)}if(n=n.split("/"),s=e[t],null==s)return{path:n.join("/"),params:i,alias:r};for(o=s[0],a=1;a<s.length;a++)if(a%2===0)o+=s[a];else{var h=s[a]<<0;if(h>n.length-1&&(h=n.length-1),o+=n[h],a===s.length-2)for(h++;h<n.length;h++)o+="/"+n[h]}return{path:o,params:i,alias:r}},each:function(e,t,n,r,o){if(null!=t)if("lazy"!==e||null!=o)if(t instanceof Array)for(var i=0;i<t.length;i++)this.each(e,t[i],n,r,o);else if("object"!=typeof t){if("string"==typeof t){var s=this.resolve(r,t);return r&&(r+="."+t),void n(r,s,o)}console.error("Include Package is invalid",arguments)}else for(var a in t)this.each(e,t[a],n,a,o);else for(var a in t)this.each(e,t[a],n,null,a)},getRoutes:function(){return e},parseAlias:function(e){var n=e.path,r=t.exec(n);return r&&r[1]}}}RoutesLib=e,Routes=e()}();var Events=function(e){function t(){Events.ready=fn_doNothing,null!=n&&(arr_invoke(n),n=null)}if(null==e)return{ready:fn_doNothing,load:fn_doNothing};var n=[];return"onreadystatechange"in e?e.onreadystatechange=function(){/complete|interactive/g.test(e.readyState)!==!1&&t()}:e.addEventListener?e.addEventListener("DOMContentLoaded",t):window.onload=t,{ready:function(e){n.unshift(e)}}}(document),ScriptStack=function(){function e(e,t){cfg.version&&(e+=(e.indexOf("?")===-1?"?":"&")+"v="+cfg.version),"/"===e[0]&&cfg.lockedToFolder===!0&&(e=e.substring(1));var n=document.createElement("script");n.type="text/javascript",n.src=e,"onreadystatechange"in n?n.onreadystatechange=function(){("complete"===this.readyState||"loaded"===this.readyState)&&t()}:n.onload=n.onerror=t,null==s&&(s=document.getElementsByTagName("head")[0]),s.appendChild(n)}function t(){function n(e){e&&"error"===e.type&&console.log("Script Loaded Error",r.url);for(var n=0,o=l.length;n<o;n++)if(l[n]===r){l.splice(n,1);break}return n===o?void console.error("Loaded Resource not found in stack",r):(2.5!==r.state&&r.readystatechanged(3),a=null,void t())}if(!u){if(0===l.length)return void i();if(null==a){var r=a=l[0];if(1!==r.state)return r.state=1,global.include=r,global.iparams=r.route.params,r.source?(__eval(r.source,r),void n()):void e(r.url,n)}}}function n(){if(!u){if(0===l.length)return void i();if(null==a){var e=l[0];e.state<2||(a=e,a.state=1,global.include=e,__eval(e.source,e),o(e),2.5!==e.state&&e.readystatechanged(3),a=null,n())}}}function r(){if(!u){if(0===l.length)return void i();var e=l.shift();e.state<2||(a=e,a.state=3,global.include=e,__eval(e.source,e),e.readystatechanged(3),a=null,r())}}function o(e){for(var t=l.length,n=-1;++n<t;)if(l[n]===e)return void l.splice(n,1)}function i(){for(var e=-1,t=c.length;++e<t;)c[e]();c.length=0}var s,a,u,l=[],c=[];return{load:function(e,o,i){return this.add(e,o),!cfg.eval||i?void t():e.source?(e.state=2,void n()):void XHR(e,function(e,t){return t||(console.error("Not Loaded:",e.url),console.error("- Initiator:",e.parent&&e.parent.url||"<root resource>")),e.source=t,e.state=2,cfg.sync?void r():void n()})},add:function(e,t){if(1===e.priority)return l.unshift(e);if(null==t)return l.push(e);for(var n=l.length,r=-1;++r<n;)if(l[r]===t)return l.splice(r,0,e);l.push(e)},moveToParent:function(e,t){var n,r=l.length,o=-1,i=-1;for(n=0;n<r;n++)if(l[n]===e){i=n;break}if(i!==-1){for(n=0;n<r;n++)if(l[n]===t){o=n;break}o!==-1&&(i<o||(l.splice(i,1),l.splice(o,0,e)))}},pause:function(){u=!0},resume:function(){u=!1,null==a&&this.touch()},touch:function(){var e=cfg.eval?n:t;e()},complete:function(e){return u!==!0&&0===l.length?void e():void c.push(e)}}}(),InstanceStack;!function(){function e(){var e=i.length;0!==e&&(i.shift(),1!==e&&o(i[0]))}function t(e,t){setTimeout(function(){e.on(4,function(){setTimeout(t)})})}function n(e){e.state=1,e.bag=new r(e);for(var t,n=a;--n!==-1;)t=s[n],e[t]=e.bag[t].bind(e.bag)}function r(e){this.arr=[],this.include=e}function o(e){for(var t=a;--t>-1;){var n=s[t];e[n]=Include.prototype[n]}if(e.state=3,e.inject=e.js,e.bag)for(var t=-1,r=e.bag.arr,o=r.length;++t<o;){var i=r[t];e[i[0]].apply(e,[i[1]])}}InstanceStack={add:function(r){i.push(r),n(r),1===i.length&&t(global.include,function(){o(r)}),t(r,e)}};var i=[],s=["js","css","load","ajax","embed","lazy","mask","inject"],a=s.length;!function(){function e(e){return function(){var t=n.call(arguments);return this.arr.push([e,t]),this.include}}for(var t=a,n=Array.prototype.slice;--t>-1;){var o=s[t];r.prototype[o]=e(s[t])}}()}();var IncludeDeferred=function(){this.callbacks=[],this.state=-1};IncludeDeferred.prototype={on:function(e,t,n,r){return this===n&&this.state===-1?(t(this),this):(null==r&&(r=this.state<3||this===n?"unshift":"push"),e<=this.state?t(this):this.callbacks[r]({state:e,callback:t}),this)},readystatechanged:function(e){var t,n,r,o;if(e>this.state&&(this.state=e),3===this.state){var i=this.includes;if(null!=i&&i.length)for(t=0;t<i.length;t++)if(4!==i[t].resource.state)return;this.state=4}if(t=0,n=this.callbacks.length,0!==n){for("js"===this.type&&4===this.state&&(o=global.include,global.include=this);t<n&&(r=this.callbacks[t],null==r||r.state>this.state||(this.callbacks.splice(t,1),n--,t--,r.callback(this),!(this.state<4)));t++);null!=o&&"js"===o.type&&(global.include=o)}},ready:function(e){var t=this;return this.on(4,function(){Events.ready(function(){t.resolve(e)})},this)},done:function(e){var t=this;return this.on(4,function(){t.resolve(e)},this)},resolve:function(e){var t=this.includes,n=null==t?0:t.length;if(n>0&&null==this.response){this.response={};for(var r,o,i,s=0;s<n;s++)if(i=t[s],r=i.resource,o=i.route,"undefined"!=typeof r.exports){var a=r.type;switch(a){case"js":case"load":case"ajax":case"mask":var u=o.alias||Routes.parseAlias(o),l="js"===a?this.response:this.response[a]||(this.response[a]={});if(null!=u){var c=r.exports;cfg.es6Exports&&null!=c&&"object"==typeof c&&(c=c.default||c),l[u]=c;break}console.warn("<includejs> Alias is undefined",r)}}}var f=this.response||emptyResponse,d=this;if(!(null==this._use&&null!=this._usage&&(this._use=tree_resolveUsage(this,this._usage,function(){d.state=4,d.resolve(e),d.readystatechanged(4)}),this.state<4)))return this._use?void e.apply(null,[f].concat(this._use)):void e(f)}};var Include,IncludeLib={};!function(IncludeDeferred){function incl_getResource(e,t){var n=e;if(path_isRelative(e)===!0&&(n="/"+n),null!=t)return bin[t][n];for(var r in bin)if(bin[r].hasOwnProperty(n))return bin[r][n];return null}function embedPlugin(source){eval(source)}function includePackage(e,t,n){var r=1===n.length?n[0]:__array_slice.call(n);return e instanceof Resource?e.include(t,r):new Resource("js").include(t,r)}function createIncluder(e){return function(){return includePackage(this,e,arguments)}}function doNothing(){return this}function stub_freeze(e){e.js=e.css=e.load=e.ajax=e.embed=e.lazy=e.inject=e.mask=doNothing}function stub_release(e){for(var t=["js","css","load","ajax","embed","lazy","mask"],n=t.length;--n!==-1;)e[t[n]]=createIncluder(t[n]);e.inject=e.js}Include=function(){IncludeDeferred.call(this)},stub_release(Include.prototype),obj_inherit(Include,IncludeDeferred,{_use:null,_usage:null,isBrowser:isBrowser,isNode:isNode,setCurrent:function(e){var t=e.url,n=this.getResourceById(t,"js");if(null==n){"/"===t[0]&&this.base&&(t=this.base+t.substring(1));var n=new Resource("js",{path:t},e.namespace,null,null,t)}n.state<3&&console.error("<include> Resource should be loaded",e),n.state=3,global.include=n},cfg:function(e,t){return cfg.call(this,e,t)},routes:function(e){if(null==e)return Routes.getRoutes();if(2===arguments.length)return Routes.register(e,arguments[1],this),this;for(var t in e)Routes.register(t,e[t],this);return this},promise:function(e){for(var t=e.split("."),n=global;t.length;){var r=t.shift();n=n[r]||(n[r]={})}return n},register:function(e){function t(e){return null==u?e:("/"===e.url[0]&&(e.url=u+e.url.substring(1)),"/"===e.parent[0]&&(e.parent=u+e.parent.substring(1)),e.id=e.url,e)}function n(e,t){e.exports=t,e.readystatechanged(4)}var r,o,i,s,a,u=this.base;for(r in e)for(i=e[r],s=i.length,a=-1;++a<s;){o=t(i[a]);var l=o.url,c=o.url,f=o.namespace,d=o.parent&&incl_getResource(o.parent,"js"),h=new Resource,p=o.state;if(l||c){switch(c&&("/"===c[0]&&(c=c.substring(1)),h.location=path_getDir(c)),h.state=null==p?"js"===r?3:4:p,h.namespace=f,h.type=r,h.url=c||l,h.parent=d,h.base=d&&d.base||u,r){case"load":case"lazy":var g=document.querySelector('[data-bundler-path="/'+c+'"]');if(null==g){console.error('"%s" Data was not embedded into html',l);break}h.exports=g.innerHTML,CustomLoader.exists(h)&&(h.state=3,CustomLoader.load(h,n))}(bin[r]||(bin[r]={}))[l]=h}}},instance:function(e,t){var n;return null==e?(n=new Include,n.state=4,n):(n=new Resource("js"),n.state=4,n.url=path_resolveUrl(e,t),n.location=path_getDir(n.url),n.parent=t,cfg.sync!==!0&&InstanceStack.add(n),n)},getResource:function(e,t){return this.base&&"/"===e[0]&&(e=this.base+e.substring(1)),incl_getResource(e,t)},getResourceById:function(e,t){var n=bin[t],r=n[e];return null!=r?r:this.base&&"/"===e[0]&&(r=n[path_combine(this.base,e)],null!=r)?r:this.base&&this.location&&(r=n[path_combine(this.base,this.location,e)],null!=r)?r:this.location&&(r=n[path_combine(this.location,e)],null!=r)?r:null},getResources:function(){return bin},plugin:function(e,t){var n=[],r=0,o=0,i=0,s=function(e,n){o++,embedPlugin(n),o===r-1&&t&&(t(),t=null)};for(Routes.each("",e,function(e,t){n.push("/"===t.path[0]?t.path.substring(1):t.path)}),r=n.length;i<r;i++)XHR(n[i],s);return this},client:function(){return cfg.server===!0&&stub_freeze(this),this},server:function(){return cfg.server!==!0&&stub_freeze(this),this},use:function(){return null==this.parent?(console.error("<include.use> Parent resource is undefined"),this):(this._usage=arguments,this)},pauseStack:fn_proxy(ScriptStack.pause,ScriptStack),resumeStack:fn_proxy(ScriptStack.resume,ScriptStack),allDone:function(e){ScriptStack.complete(function(){function t(){--r<1&&e()}var n=include.getPending(),r=n.length;if(0===r)return void e();for(var o=-1,i=r;++o<i;)n[o].on(4,t,null,"push")})},getPending:function(e){var t,n,r,o=[];for(n in bin)if("all"!==n&&(null==e||e===n))for(r in bin[n])t=bin[n][r],t.state<4&&o.push(t);return o},Lib:IncludeLib})}(IncludeDeferred);var CustomLoader=function(){function e(e){return"string"!=typeof e&&("function"==typeof e.ready||"function"==typeof e.process)}function t(t){var n=path_getExtension(t),r=cfg.loader[n];if(e(r))return r;var o,i=r;if("object"==typeof i)for(var s in i){o=s,i=i[s];break}return cfg.loader[n]=new Resource("js",Routes.resolve(o,i),o,null,null,null,1)}function n(e,t){return function(n){e(t,n)}}function r(e,t,r,o){if(null==r.process)return void o(t,e);var i=n(o,t),s=r.process(e,t,i);"undefined"!=typeof s&&o(t,s)}function o(e,t,n){function o(e,o){r(o,e,t,n)}return"string"==typeof e.exports?void r(e.exports,e,t,n):t.load?t.load(e,o):void XHR(e,o)}var i={process:function(e,t){try{return JSON.parse(e)}catch(t){return console.error(t,e),null}}};return cfg.loader={json:i},{load:function(e,n){var r=t(e.url);return r.process?void o(e,r,n):void r.on(4,function(){o(e,r.exports,n)},null,"push")},exists:function(e){if(!e.url)return!1;var t=path_getExtension(e.url);return cfg.loader.hasOwnProperty(t)},register:function(e,t){if("string"==typeof t){var n=include;null==n.location&&(n={location:path_getDir(path_resolveCurrent())}),t=path_resolveUrl(t,n)}cfg.loader[e]=t}}}(),LazyModule={create:function(e,t){for(var n=e.split("."),r=global,o=n[n.length-1];n.length>1;){var i=n.shift();r=r[i]||(r[i]={})}n=null,Object.defineProperty(r,o,{get:function(){delete r[o];try{var n=__eval(t,global.include);null==n||n instanceof Resource||(r[o]=n)}catch(t){t.xpath=e,Helper.reportError(t)}finally{return t=null,e=null,r[o]}}})}},Resource;!function(e,t,n,r){function o(e){var t=e.type,o=e.parent,s=e.url;if(null==document&&"css"===t)return e.state=4,e;if(r.exists(e)===!1)switch(t){case"js":case"embed":n.load(e,o,"embed"===t);break;case"ajax":case"load":case"lazy":case"mask":XHR(e,i);break;case"css":e.state=4;var a=document.createElement("link");a.href=s,a.rel="stylesheet",a.type="text/css",document.getElementsByTagName("head")[0].appendChild(a)}else"js"!==t&&"embed"!==t||n.add(e,e.parent),r.load(e,i);return e}function i(e,t){switch(t||console.warn("Resource can`t be loaded",e.url),e.type){case"js":case"embed":return e.source=t,e.state=2,void n.touch();case"load":case"ajax":e.exports=t;break;case"lazy":LazyModule.create(e.xpath,t);break;case"css":var r=document.createElement("style");r.type="text/css",r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r);break;case"mask":if(t){var o=global.mask;return null==o&&(o=global.require("mask")),void o.Module.registerModule(t,{path:e.url}).done(function(t){e.exports=t.exports,e.readystatechanged(4)}).fail(function(t){console.error(t),e.readystatechanged(4)})}}e.readystatechanged(4)}function s(e,t,n){if(null==e)return null;null==n&&(n=[]);for(var r,o=e.length,i=-1;++i<o;)r=e[i].resource,t===r.type&&n.push(r),null!=r.includes&&s(r.includes,t,n);return n}Resource=function(t,r,i,s,a,u,l){e.call(this);var c=r&&r.path;null!=c&&(c=path_normalize(c),c=PathResolver.resolveBasic(c,t,a)),null==u&&c&&(u=c);var f=Bin.get(t,u);if(f)return f.state<4&&"js"===t&&n.moveToParent(f,a),f;if(this.id=u,this.url=c,this.type=t,this.xpath=s,this.route=r,this.parent=a,this.priority=l,this.namespace=i,this.base=a&&a.base,this.childLoaded=fn_proxy(this.childLoaded,this),null==c)return this.state=3,this.location=path_getDir(path_resolveCurrent()),this;if(this.state=0,this.location=path_getDir(c),Bin.add(t,u,this),PathResolver.isNpm(this.url)===!1)return o(this),this;var d=this;return PathResolver.resolveNpm(this.url,this.type,this.parent,function(e,t){return e?void d.readystatechanged(4):(d.url=t,void o(d))}),this},Resource.prototype=obj_inherit(Resource,e,{state:null,location:null,includes:null,response:null,url:null,base:null,type:null,xpath:null,route:null,parent:null,priority:null,namespace:null,setBase:function(e){return this.base=e,this},childLoaded:function(e){var t=this,n=t.includes;if(n&&n.length){if(t.state<3)return;for(var r=0;r<n.length;r++)if(4!==n[r].resource.state)return}t.readystatechanged(4)},create:function(e,t,n,r,o){var i;return this.state=this.state>=3?3:2,this.response=null,null==this.includes&&(this.includes=[]),i=new Resource(e,t,n,r,this,o),this.includes.push({resource:i,route:t}),i},include:function(e,n){var r,o=this,i=[];t.each(e,n,function(t,n,s){null!=o.route&&o.route.path===n.path||(r=o.create(e,n,t,s),i.push(r))});for(var s=-1,a=i.length;++s<a;)i[s].on(4,this.childLoaded);return this},require:function(e){this.exports={},this.includes=[];var t=res_groupByType(e);for(var n in t)this.include(n,t[n]);return this},pause:function(){this.state=2.5;var e=this;return function(t){1===arguments.length&&(e.exports=t),e.readystatechanged(3)}},getNestedOfType:function(e){return s(this.includes,e)}})}(Include,Routes,ScriptStack,CustomLoader);var __nativeRequire,__includeRequire;if(global.require){var name=global.require.name;"amd"!==name&&"commonjs"!==name&&(__nativeRequire=global.require)}var CommonJS;!function(){function e(){global.require=CommonJS.require}function t(){if("undefined"==typeof module){if("undefined"==typeof Object.defineProperty)return void console.warn("Browser do not support Object.defineProperty");Object.defineProperty(global,"module",{get:function(){return global.include},configurable:!0}),Object.defineProperty(global,"exports",{get:function(){var e=global.include;return e.exports||(e.exports={})},set:function(e){global.include.exports=e},configurable:!0})}}CommonJS={exports:null,require:function(e){if(46!==e.charCodeAt(0)&&null!=__nativeRequire)return __nativeRequire(e);var t=cfg.sync,n=cfg.eval,r=include,o=null;return cfg.sync=!0,cfg.eval=!0,include.js(e+"::Module").done(function(e){o=e.Module}),include=r,cfg.sync=t,cfg.eval=n,o},enable:function(){"function"!=typeof __nativeRequire&&(t(),e())}}}();var Amd;!function(){function e(t,n){for(var r in n){var o=n[r];null!=o&&("load"!==r&&"ajax"!==r?t[+r]=o:e(t,o))}}Amd={enable:function(){t()}};var t;!function(){function n(e,t){var n=-1,o=e.length;e:for(;++n<o;){var i=e[n][0];if(i.length===t.length){for(var s=-1,a=i.length;++s<a;){var u=i[s];if(u(t[s])===!1)continue e}return e[n][1]}}return console.warn("Define function arguments are invalid",t),r}function r(){}function o(t,n,r,o){if(null!=n&&(bin.js[n]=t),null==r)return void(t.exports=i(o)||t.exports);var a=s(r,t),u=a.array,l=a.linked;return 0===l.length?void(t.exports=i(o,u)||t.exports):void t.require(a.linked).done(function(n){e(u,n),t.exports=i(o,u)||t.exports})}function i(e,t){return"function"==typeof e?e.apply(null,t||[]):e}function s(e,t){for(var n=new Array(e.length),r=[],o=e.length,i=-1;++i<o;){var s=f[e[i]];null!=s?n[i]=s(t):r.push(e[i]+"::"+i)}return{array:n,linked:r}}function a(e){return"string"==typeof e}function u(e){return!0}function l(e){return e instanceof Array}t=function(){var e=global.define=function(e,t,r){for(var o=arguments.length,i=new Array(o);--o>-1;)i[o]=arguments[o];var s=n(c,i),a=global.include;s(a,e,t,r)};__includeRequire=global.require=function(){return isNode&&__nativeRequire&&1===arguments.length?__nativeRequire.apply(null,arguments):e.apply(null,arguments)},"undefined"!=typeof require&&(require=__includeRequire)};var c=[[[u],function(e,t){o(e,null,null,t)}],[[a,u],function(e,t,n){o(e,t,null,n)}],[[a,l,u],function(e,t,n,r){o(e,t,n,r)}],[[l,u],function(e,t,n){o(e,null,t,n)}]],f={module:function(e){return e},exports:function(e){return e.exports={}},require:function(e){return CommonJS.require}}}()}();var PathResolver;!function(){function e(e){return s[e]||e}function t(e){return/\.[\w]{1,8}($|\?)/.test(e)}function n(e){return/^([\w\-]+)(\/[\w\-_]+)*$/.test(e)}function r(e,n,r){function o(){var e=u+"/node_modules/"+i+"/",t=e+"package.json";XHR_LOAD(t,function(t,n){var i;if(n)try{i=JSON.parse(n)}catch(e){}if(null!=t||null==i){var l=u.replace(/[^\/]+$/,"");return l===u?void r("Not found"):void o()}return s?void r(null,e+s):i.main?void r(null,path_combine(e,i.main)):void r(null,e+"index."+a.js)})}var i=/^([\w\-]+)/.exec(n)[0],s=n.substring(i.length+1);s&&t(s)===!1&&(s+="."+a.js);var u=e.replace(/[^\/]+\.[\w]{1,8}$/,"");o()}function o(e,n){if(t(e))return e;var r=a[n];return null==r?(console.warn("Extension is not defined for "+n),e):e+"."+r}function i(e){var t=/\.([\w]{1,8})($|\?)/.exec(e);if(null===t)return a.js;var n=t[1],r=u[n];if(null==r)throw Error("Unknown type for extension: "+n);return r}PathResolver={configMap:function(e){for(var t in e)s[t]=e},configExt:function(e){var t=e.def,n=e.types;for(var r in t)a[r]=t[r];for(var r in n)u[r]=n[r]},resolveBasic:function(t,r,i){if("js"===r&&n(t))return t;var s=path_resolveUrl(e(t),i);return o(s,r)},isNpm:n,getType:i,resolveNpm:function(o,i,s,u){var l=e(o);if(l.indexOf(".")>-1)return void u(null,l);if("js"===i&&n(l)){var c=s&&s.location||path_resolveCurrent();return void r(c,l,u)}t(l)===!1&&(l+="."+a[i]),u(null,l)}};var s={},a={js:"js",css:"css",mask:"mask"},u={js:"js",es6:"js",ts:"js",css:"css",less:"css",scss:"css",mask:"mask",json:"load",yml:"load"}}(),IncludeLib.Routes=RoutesLib,IncludeLib.Resource=Resource,IncludeLib.ScriptStack=ScriptStack,IncludeLib.PathResolver=PathResolver,IncludeLib.Config=Config,IncludeLib.registerLoader=CustomLoader.register,exports.include=new Include,exports.includeLib=IncludeLib});
//# sourceMappingURL=include.min.js.map